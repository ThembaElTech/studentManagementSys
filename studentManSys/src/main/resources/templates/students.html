<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="base::layout(~{::section})">
<head>
	<meta charset="ISO-8859-1">
	<title>Student Management System</title>

</head>
<body>
<section>
	<div class ="container">
		<div class = "row">
			<h1> List Students </h1>
		</div>

		<div class = "row">
			<div class = "col-lg-3">
				<a th:href = "@{/students/new}" class = "btn btn-primary btn-sm mb-3"> Add Student</a>
			</div>
		</div>
		<table class = "table table-striped table-bordered">
			<thead class = "table-dark">
				<tr>
					<th> Student First Name</th>
					<th> Student Last Name</th>
					<th> Student Email </th>
					<th> Actions </th>
				</tr>
			</thead>

			<tbody>
				<tr th:each = "student: ${students}">
					<td th:text = "${student.firstName}"></td>
					<td th:text = "${student.lastName}"></td>
					<td th:text = "${student.email}"></td>
					<td>
						<a th:href = "@{/students/edit/{id}(id=${student.id})}" class = "btn btn-primary">Update</a>
						<a th:href = "@{/students/{id}(id=${student.id})}" class = "btn btn-danger" onclick="myFunction()">Delete</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</section>

	<script>
		function myFunction() {
		  var txt;
		  if (confirm("Are you sure you want to delete this student?")) {
			txt = "Deleted!";
			// Do the delete when you click ok
		  } else {
			txt = "Cancel!";
			// If you click cancel, remove the alert box
		  }
		  console.log(txt);
		}
	</script>
</body>
</html>